<footer class="bg-tlgray-100">
  {{ if not .IsHome }}
  <!-- Load heavy libs without blocking render -->
  <script src='{{ "/js/clipboard.min.js" | relURL }}' defer></script>
  <script src='{{ "/js/highlight.min.js" | relURL }}' defer></script>
  <script src='{{ "/js/highlightjs-line-numbers.min.js" | relURL }}' defer></script>
  <script src='{{ "/js/sweetalert2.min.js" | relURL }}' defer></script>

  <!-- Run after deferred scripts are parsed -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      if (window.hljs) {
        // highlight.js v11+
        if (typeof hljs.highlightAll === 'function') {
          hljs.highlightAll();
        } else if (typeof hljs.initHighlightingOnLoad === 'function') {
          hljs.initHighlightingOnLoad();
        }
        if (typeof hljs.initLineNumbersOnLoad === 'function') {
          hljs.initLineNumbersOnLoad();
        }
      }

      if (window.ClipboardJS) {
        new ClipboardJS('.url');
      }

      window.OnClickURL = function () {
        if (window.Swal) {
          Swal.fire({
            icon: 'success',
            title: 'Copied!',
            text: 'Copied the URL and title.'
          });
        }
      };
    });
  </script>
  {{ end }}

  <!-- Site UI JS (non-blocking) -->
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      function toggleNav() {
        var hamburger = document.getElementById("hamburgerbtn");
        var overlay = document.getElementById("overlay");
        var body = document.body;
        if (!hamburger || !overlay) return;

        hamburger.addEventListener("click", function () {
          overlay.classList.toggle("open");
          hamburger.classList.toggle("is-open");
          body.classList.toggle("scroll-lock");
        });
      }
      toggleNav();

      var scrollTopBtn = document.querySelector('.scroll-top');
      if (scrollTopBtn) {
        scrollTopBtn.addEventListener('click', function () {
          document.documentElement.scrollTop = 0;
        });
      }
    });
  </script>

  <!-- Fonts: moved to head (preconnect + non-blocking). Remove footer fonts block. -->

  <div class="flex items-center justify-between flex-wrap bg-gray-800 p-8 text-white">
    <div class="items-center text-xl text-grey-900 mr-6">
      {{ .Site.Params.site.name }}
    </div>
    <div class="w-full block flex-grow lg:flex lg:items-center lg:w-auto" id="mobileMenu">
      <div class="text-lg lg:flex-grow"></div>
      <div class="flex flex-row items-center text-lg">
        {{ range .Site.Menus.footer }}
          <a href="{{ .URL }}" class="block mt-4 lg:inline-block lg:mt-0 text-gray-300 hover:text-white mr-8">
            {{ if not .Pre }}{{ .Name }}{{ else }}{{ .Pre }}{{ end }}
          </a>
        {{ end }}
      </div>
    </div>
  </div>

  <div class="copy pl-8 py-5 bg-tlgray-700 text-white text-md">
    &copy; {{site.Title}} {{ now.Year }} All Rights Reserved.
  </div>
</footer>
